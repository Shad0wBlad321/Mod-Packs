<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/TerrainDef[@Name = "FloorBase"]/statBases</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath>/Defs/TerrainDef[@Name = "FloorBase"]</xpath>
			<value>
				<statBases/>
			</value>
		</nomatch>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/TerrainDef[@Name = "FloorBase"]/statBases</xpath>
		<value>
			<MarketValue>1</MarketValue>
		</value>
	</Operation>
	
	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/TerrainTemplateDef[defName = "Carpet"]/statBases</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath>/Defs/TerrainTemplateDef[defName = "Carpet"]</xpath>
			<value>
				<statBases/>
			</value>
		</nomatch>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/TerrainTemplateDef[defName = "Carpet"]/statBases</xpath>
		<value>
			<MarketValue>1</MarketValue>
		</value>
	</Operation>
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li MayRequire="Ludeon.RimWorld.Royalty" Class="PatchOperationConditional">
				<xpath>/Defs/TerrainTemplateDef[defName = "CarpetFine"]/statBases</xpath>
				<nomatch Class="PatchOperationAdd">
					<xpath>/Defs/TerrainTemplateDef[defName = "CarpetFine"]</xpath>
					<value>
						<statBases/>
					</value>
				</nomatch>
			</li>
			<li MayRequire="Ludeon.RimWorld.Royalty" Class="PatchOperationAdd">
				<xpath>/Defs/TerrainTemplateDef[defName = "CarpetFine"]/statBases</xpath>
				<value>
					<MarketValue>1</MarketValue>
				</value>
			</li>
		</operations>	
	</Operation>
	
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>	
			<li MayRequire="Ludeon.RimWorld.Ideology" Class="PatchOperationConditional">
				<xpath>/Defs/TerrainTemplateDef[@Name = "IdeoCarpetTemplateBase"]/statBases</xpath>
				<nomatch Class="PatchOperationAdd">
					<xpath>/Defs/TerrainTemplateDef[@Name = "IdeoCarpetTemplateBase"]</xpath>
					<value>
						<statBases/>
					</value>
				</nomatch>
			</li>
			<li MayRequire="Ludeon.RimWorld.Ideology" Class="PatchOperationAdd">
				<xpath>/Defs/TerrainTemplateDef[@Name = "IdeoCarpetTemplateBase"]/statBases</xpath>
				<value>
					<MarketValue>1</MarketValue>
				</value>
			</li>	
		</operations>	
	</Operation>
	
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Outland - More Floors</li>
		</mods>	
		<match Class="PatchOperationSequence">
			<success>Always</success>
			<operations>
			<li Class="PatchOperationConditional">
				<xpath>/Defs/TerrainDef[@Name = "OutlandFloorBase"]/statBases</xpath>
				<nomatch Class="PatchOperationAdd">
					<xpath>/Defs/TerrainDef[@Name = "OutlandFloorBase"]</xpath>
					<value>
						<statBases/>
					</value>
				</nomatch>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/TerrainDef[@Name = "OutlandFloorBase"]/statBases</xpath>
				<value>
					<MarketValue>1</MarketValue>
				</value>
			</li>
			</operations>
		</match>
	</Operation>
	
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>[T] MoreFloors 1.4</li>
		</mods>	
		<match Class="PatchOperationSequence">
			<success>Always</success>
			<operations>
			<li Class="PatchOperationConditional">
				<xpath>/Defs/TerrainDef[@Name = "TFloorBaseStone"]/statBases</xpath>
				<nomatch Class="PatchOperationAdd">
					<xpath>/Defs/TerrainDef[@Name = "TFloorBaseStone"]</xpath>
					<value>
						<statBases/>
					</value>
				</nomatch>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/TerrainDef[@Name = "TFloorBaseStone"]/statBases</xpath>
				<value>
					<MarketValue>1</MarketValue>
				</value>
			</li>
			<li Class="PatchOperationConditional">
				<xpath>/Defs/TerrainDef[@Name = "TFloorBaseWood"]/statBases</xpath>
				<nomatch Class="PatchOperationAdd">
					<xpath>/Defs/TerrainDef[@Name = "TFloorBaseWood"]</xpath>
					<value>
						<statBases/>
					</value>
				</nomatch>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/TerrainDef[@Name = "TFloorBaseWood"]/statBases</xpath>
				<value>
					<MarketValue>1</MarketValue>
				</value>
			</li>
			<li Class="PatchOperationConditional">
				<xpath>/Defs/TerrainDef[@Name = "TFloorBaseCarpet"]/statBases</xpath>
				<nomatch Class="PatchOperationAdd">
					<xpath>/Defs/TerrainDef[@Name = "TFloorBaseCarpet"]</xpath>
					<value>
						<statBases/>
					</value>
				</nomatch>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/TerrainDef[@Name = "TFloorBaseCarpet"]/statBases</xpath>
				<value>
					<MarketValue>1</MarketValue>
				</value>
			</li>
			<li Class="PatchOperationConditional">
				<xpath>/Defs/TerrainDef[@Name = "TFloorBaseGemstone"]/statBases</xpath>
				<nomatch Class="PatchOperationAdd">
					<xpath>/Defs/TerrainDef[@Name = "TFloorBaseGemstone"]</xpath>
					<value>
						<statBases/>
					</value>
				</nomatch>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>/Defs/TerrainDef[@Name = "TFloorBaseGemstone"]/statBases</xpath>
				<value>
					<MarketValue>1</MarketValue>
				</value>
			</li>
			</operations>			
		</match>
	</Operation>
</Patch>