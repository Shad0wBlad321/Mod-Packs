<?xml version="1.0" encoding="utf-8" ?>
<Patch>

  <!-- ==================== E9C ==================== -->
  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>Eccentric_Gun_E9C</defName>
    <statBases>
      <Mass>2.70</Mass>
      <Bulk>6.40</Bulk>
      <WorkToMake>40000</WorkToMake>
      <SightsEfficiency>1.1</SightsEfficiency>
      <ShotSpread>0.10</ShotSpread>
      <SwayFactor>1.28</SwayFactor>
      <RangedWeapon_Cooldown>0.46</RangedWeapon_Cooldown>
    </statBases>
    <costList>
      <Steel>20</Steel>
      <Plasteel>20</Plasteel>
      <ComponentIndustrial>4</ComponentIndustrial>
      <Eccentric_HexCell>1</Eccentric_HexCell>
      <Chemfuel>12</Chemfuel>
    </costList>
    <Properties>
      <verbClass>EccentricProjectiles.Verb_ShootCE_WithAlternateProjectiles</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_6x24mmCharged</defaultProjectile>
      <burstShotCount>6</burstShotCount>
      <ticksBetweenBurstShots>5</ticksBetweenBurstShots>
      <warmupTime>0.9</warmupTime>
      <range>51</range>
      <soundCast>Shot_ChargeRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
      <recoilAmount>1.60</recoilAmount>
    </Properties>
    <AmmoUser>
      <magazineSize>30</magazineSize>
      <reloadTime>4</reloadTime>
      <ammoSet>AmmoSet_6x24mmCharged</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiUseBurstMode>true</aiUseBurstMode>
      <aimedBurstShotCount>3</aimedBurstShotCount>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
  </Operation>
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="Eccentric_Gun_E9C" or defName="Eccentric_Gun_E15CR"]</xpath>
    <value>
      <li Class="EccentricProjectiles.ModExtension_AmmoAlternateProjectile">
        <alternateProjectiles>
          <li>
            <ammo>Ammo_6x24mmCharged</ammo>
            <projectile>Bullet_Eccentric6x24mmCharged</projectile>
          </li>
          <li>
            <ammo>Ammo_6x24mmCharged_AP</ammo>
            <projectile>Bullet_Eccentric6x24mmCharged_AP</projectile>
          </li>
          <li>
            <ammo>Ammo_6x24mmCharged_Ion</ammo>
            <projectile>Bullet_Eccentric6x24mmCharged_Ion</projectile>
          </li>
        </alternateProjectiles>
      </li>
    </value>
  </Operation>

  <!-- ==================== E15 ==================== -->
  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>Eccentric_Gun_E15CR</defName>
    <statBases>
      <Mass>3.20</Mass>
      <Bulk>9.20</Bulk>
      <WorkToMake>56000</WorkToMake>
      <SightsEfficiency>1.2</SightsEfficiency>
      <ShotSpread>0.08</ShotSpread>
      <SwayFactor>1.20</SwayFactor>
      <RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
    </statBases>
    <costList>
      <Steel>25</Steel>
      <Plasteel>20</Plasteel>
      <ComponentIndustrial>5</ComponentIndustrial>
      <Eccentric_HexCell>1</Eccentric_HexCell>
      <Chemfuel>15</Chemfuel>
    </costList>
    <Properties>
      <verbClass>EccentricProjectiles.Verb_ShootCE_WithAlternateProjectiles</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_Eccentric6x24mmCharged</defaultProjectile>
      <burstShotCount>6</burstShotCount>
      <ticksBetweenBurstShots>5</ticksBetweenBurstShots>
      <warmupTime>1.0</warmupTime>
      <range>55</range>
      <soundCast>Shot_ChargeRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
      <recoilAmount>1.45</recoilAmount>
    </Properties>
    <AmmoUser>
      <magazineSize>30</magazineSize>
      <reloadTime>4</reloadTime>
      <ammoSet>AmmoSet_6x24mmCharged</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiUseBurstMode>true</aiUseBurstMode>
      <aimedBurstShotCount>3</aimedBurstShotCount>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
  </Operation>

  <!-- ==================== L20C ==================== -->
  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>Eccentric_Gun_L20C</defName>
    <statBases>
      <Mass>6.50</Mass>
      <Bulk>11.20</Bulk>
      <WorkToMake>64000</WorkToMake>
      <SightsEfficiency>1.2</SightsEfficiency>
      <ShotSpread>0.08</ShotSpread>
      <SwayFactor>1.16</SwayFactor>
      <RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
      <BipodStats>0</BipodStats>
    </statBases>
    <costList>
      <Steel>25</Steel>
      <Plasteel>25</Plasteel>
      <ComponentIndustrial>6</ComponentIndustrial>
      <Eccentric_HexCell>2</Eccentric_HexCell>
      <Chemfuel>20</Chemfuel>
    </costList>
    <Properties>
      <verbClass>EccentricProjectiles.Verb_ShootCE_WithAlternateProjectiles</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_8x35mmCharged</defaultProjectile>
      <burstShotCount>10</burstShotCount>
      <ticksBetweenBurstShots>4</ticksBetweenBurstShots>
      <warmupTime>1.0</warmupTime>
      <range>62</range>
      <soundCast>Shot_ChargeRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
      <targetParams>
        <canTargetLocations>true</canTargetLocations>
      </targetParams>
      <recoilPattern>Mounted</recoilPattern>
      <recoilAmount>1.20</recoilAmount>
    </Properties>
    <AmmoUser>
      <magazineSize>100</magazineSize>
      <reloadTime>7.5</reloadTime>
      <ammoSet>AmmoSet_8x35mmCharged</ammoSet>
    </AmmoUser>
    <FireModes>
      <aiUseBurstMode>false</aiUseBurstMode>
      <aimedBurstShotCount>5</aimedBurstShotCount>
      <aiAimMode>SuppressFire</aiAimMode>
    </FireModes>
  </Operation>
  <Operation Class="PatchOperationRemove">
    <xpath>Defs/ThingDef[defName="Eccentric_Gun_L20C"]/equippedStatOffsets/MoveSpeed</xpath>
  </Operation>
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="Eccentric_Gun_L20C"]</xpath>
    <value>
      <li Class="EccentricProjectiles.ModExtension_AmmoAlternateProjectile">
        <alternateProjectiles>
          <li>
            <ammo>Ammo_8x35mmCharged</ammo>
            <projectile>Bullet_Eccentric8x35mmCharged</projectile>
          </li>
          <li>
            <ammo>Ammo_8x35mmCharged_AP</ammo>
            <projectile>Bullet_Eccentric8x35mmCharged_AP</projectile>
          </li>
          <li>
            <ammo>Ammo_8x35mmCharged_Ion</ammo>
            <projectile>Bullet_Eccentric8x35mmCharged_Ion</projectile>
          </li>
        </alternateProjectiles>
      </li>
    </value>
  </Operation>
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="Eccentric_Gun_L20C"]/comps</xpath>
    <value>
      <li Class="CombatExtended.CompProperties_BipodComp">
        <catDef>bipodSAW</catDef>
        <additionalrange>4</additionalrange>
        <ticksToSetUp>180</ticksToSetUp>
        <recoilMulton>0.9</recoilMulton>
        <recoilMultoff>1.2</recoilMultoff>
        <warmupMult>0.9</warmupMult>
        <warmupPenalty>1.2</warmupPenalty>
        <swayMult>1</swayMult>
        <swayPenalty>1.25</swayPenalty>
      </li>
    </value>
  </Operation>

</Patch>
