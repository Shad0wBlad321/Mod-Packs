<?xml version="1.0" encoding="utf-8" ?>
<Patch>

  <!--=============== P17 sentry gun ===============-->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Eccentric_Turret_P17SG"]/thingClass</xpath>
    <value>
      <thingClass>CombatExtended.Building_TurretGunCE</thingClass>
    </value>
  </Operation>
  <Operation Class="PatchOperationRemove">
    <xpath>Defs/ThingDef[defName="Eccentric_Turret_P17SG"]/comps/li[@Class="CompProperties_Refuelable"]</xpath>
  </Operation>
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Eccentric_Turret_P17SG"]/fillPercent</xpath>
    <value>
      <fillPercent>0.85</fillPercent>
    </value>
  </Operation>
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Eccentric_Turret_P17SG"]/building/turretBurstCooldownTime</xpath>
    <value>
      <turretBurstCooldownTime>1.0</turretBurstCooldownTime>
    </value>
  </Operation>

  <!-- ==================== P17SG ==================== -->
  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>Eccentric_Gun_P17SG</defName>
    <statBases>
      <Bulk>10.00</Bulk>
      <RangedWeapon_Cooldown>0.37</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.12</ShotSpread>
      <SwayFactor>0.82</SwayFactor>
    </statBases>
    <costList>
      <Steel>20</Steel>
      <Plasteel>60</Plasteel>
      <ComponentSpacer>1</ComponentSpacer>
      <Eccentric_HexCell>2</Eccentric_HexCell>
    </costList>
    <Properties>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_6x18mmCharged</defaultProjectile>
      <warmupTime>1.3</warmupTime>
      <range>55</range>
      <ticksBetweenBurstShots>5</ticksBetweenBurstShots>
      <burstShotCount>5</burstShotCount>
      <soundCast>Shot_ChargeRifle</soundCast>
      <soundCastTail>GunTail_Light</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
      <recoilPattern>Mounted</recoilPattern>
      <recoilAmount>1.1</recoilAmount>
    </Properties>
    <AmmoUser>
      <magazineSize>60</magazineSize>
      <reloadTime>5</reloadTime>
      <ammoSet>AmmoSet_6x18mmCharged</ammoSet>
    </AmmoUser>
    <FireModes>
      <aimedBurstShotCount>5</aimedBurstShotCount>
      <aiUseBurstMode>false</aiUseBurstMode>
      <aiAimMode>AimedShot</aiAimMode>
      <noSnapshot>true</noSnapshot>
      <noSingleShot>true</noSingleShot>
    </FireModes>
  </Operation>

  <!--=============== L32 machine gun turret ===============-->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Eccentric_Turret_L32MG"]/thingClass</xpath>
    <value>
      <thingClass>CombatExtended.Building_TurretGunCE</thingClass>
    </value>
  </Operation>
  <Operation Class="PatchOperationRemove">
    <xpath>Defs/ThingDef[defName="Eccentric_Turret_L32MG"]/comps/li[@Class="CompProperties_Refuelable"]</xpath>
  </Operation>
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Eccentric_Turret_L32MG"]/fillPercent</xpath>
    <value>
      <fillPercent>0.85</fillPercent>
    </value>
  </Operation>
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Eccentric_Turret_L32MG"]/building/turretBurstCooldownTime</xpath>
    <value>
      <turretBurstCooldownTime>1.0</turretBurstCooldownTime>
    </value>
  </Operation>
  <!-- ==================== L32MG ==================== -->
  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>Eccentric_Gun_L32MG</defName>
    <statBases>
      <Mass>18</Mass>
      <Bulk>24.00</Bulk>
      <RangedWeapon_Cooldown>0.37</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.06</ShotSpread>
      <SwayFactor>0.96</SwayFactor>
    </statBases>
    <costList>
      <Steel>60</Steel>
      <Plasteel>60</Plasteel>
      <ComponentSpacer>2</ComponentSpacer>
      <Eccentric_HexCell>3</Eccentric_HexCell>
    </costList>
    <Properties>
      <verbClass>EccentricProjectiles.Verb_ShootCE_WithAlternateProjectiles</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_8x35mmCharged</defaultProjectile>
      <warmupTime>1.0</warmupTime>
      <range>62</range>
      <ticksBetweenBurstShots>4</ticksBetweenBurstShots>
      <burstShotCount>10</burstShotCount>
      <soundCast>Shot_ChargeRifle</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>9</muzzleFlashScale>
      <targetParams>
        <canTargetLocations>true</canTargetLocations>
      </targetParams>
      <recoilPattern>Mounted</recoilPattern>
      <recoilAmount>1.1</recoilAmount>
    </Properties>
    <AmmoUser>
      <magazineSize>100</magazineSize>
      <reloadTime>7.5</reloadTime>
      <ammoSet>AmmoSet_8x35mmCharged</ammoSet>
    </AmmoUser>
    <FireModes>
      <aimedBurstShotCount>5</aimedBurstShotCount>
      <aiUseBurstMode>true</aiUseBurstMode>
      <aiAimMode>SuppressFire</aiAimMode>
    </FireModes>
  </Operation>
  <Operation Class="PatchOperationAddModExtension">
    <xpath>Defs/ThingDef[defName="Eccentric_Gun_L32MG"]</xpath>
    <value>
      <li Class="EccentricProjectiles.ModExtension_AmmoAlternateProjectile">
        <alternateProjectiles>
          <li>
            <ammo>Ammo_8x35mmCharged</ammo>
            <projectile>Bullet_Eccentric8x35mmCharged</projectile>
          </li>
          <li>
            <ammo>Ammo_8x35mmCharged_AP</ammo>
            <projectile>Bullet_Eccentric8x35mmCharged_AP</projectile>
          </li>
          <li>
            <ammo>Ammo_8x35mmCharged_Ion</ammo>
            <projectile>Bullet_Eccentric8x35mmCharged_Ion</projectile>
          </li>
        </alternateProjectiles>
      </li>
    </value>
  </Operation>

  <!--=============== ACGL3 grenade launcher turret ===============-->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Eccentric_Turret_M3ACGL"]/thingClass</xpath>
    <value>
      <thingClass>CombatExtended.Building_TurretGunCE</thingClass>
    </value>
  </Operation>
  <Operation Class="PatchOperationRemove">
    <xpath>Defs/ThingDef[defName="Eccentric_Turret_M3ACGL"]/comps/li[@Class="CompProperties_Refuelable"]</xpath>
  </Operation>
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Eccentric_Turret_M3ACGL"]/fillPercent</xpath>
    <value>
      <fillPercent>0.85</fillPercent>
    </value>
  </Operation>
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Eccentric_Turret_M3ACGL"]/building/turretBurstCooldownTime</xpath>
    <value>
      <turretBurstCooldownTime>1.0</turretBurstCooldownTime>
    </value>
  </Operation>
  <!-- ==================== ACGL3 ==================== -->
  <Operation Class="PatchOperationRemove">
    <xpath>Defs/ThingDef[defName="Eccentric_Gun_M3ACGL"]/verbs/li</xpath>
  </Operation>
  <Operation Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>Eccentric_Gun_M3ACGL</defName>
    <statBases>
      <Mass>20</Mass>
      <Bulk>26.00</Bulk>
      <RangedWeapon_Cooldown>0.39</RangedWeapon_Cooldown>
      <SightsEfficiency>1.1</SightsEfficiency>
      <ShotSpread>0.15</ShotSpread>
      <SwayFactor>0.92</SwayFactor>
    </statBases>
    <costList>
      <Steel>60</Steel>
      <Plasteel>100</Plasteel>
      <ComponentSpacer>3</ComponentSpacer>
      <Eccentric_HexCell>4</Eccentric_HexCell>
    </costList>
    <Properties>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
      <hasStandardCommand>true</hasStandardCommand>
      <defaultProjectile>Bullet_44x52mmChargedGrenades_HE</defaultProjectile>
      <ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
      <warmupTime>1.0</warmupTime>
      <minRange>5</minRange>
      <range>62</range>
      <ticksBetweenBurstShots>12</ticksBetweenBurstShots>
      <burstShotCount>6</burstShotCount>
      <soundCast>Shot_IncendiaryLauncher</soundCast>
      <soundCastTail>GunTail_Medium</soundCastTail>
      <muzzleFlashScale>14</muzzleFlashScale>
      <targetParams>
        <canTargetLocations>true</canTargetLocations>
      </targetParams>
      <recoilPattern>Mounted</recoilPattern>
      <recoilAmount>1.1</recoilAmount>
      <ignorePartialLoSBlocker>true</ignorePartialLoSBlocker>
    </Properties>
    <AmmoUser>
      <magazineSize>30</magazineSize>
      <reloadTime>7.5</reloadTime>
      <ammoSet>AmmoSet_44x52mmChargedGrenades</ammoSet>
    </AmmoUser>
    <FireModes>
      <aimedBurstShotCount>3</aimedBurstShotCount>
      <aiUseBurstMode>false</aiUseBurstMode>
      <aiAimMode>SuppressFire</aiAimMode>
    </FireModes>
  </Operation>

</Patch>