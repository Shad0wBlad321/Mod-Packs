<?xml version="1.0" encoding="utf-8"?>
<Defs>

	<ThingDef Name="BDMEtest_FlareProjBase" Abstract="true">
		<category>Projectile</category>
		<altitudeLayer>Projectile</altitudeLayer>
		<thingClass>BillDoorsFramework.Projectile_IncidentFlare</thingClass>
		<tickerType>Normal</tickerType>
		<useHitPoints>False</useHitPoints>
		<neverMultiSelect>True</neverMultiSelect>
		<graphicData>
			<shaderType>Transparent</shaderType>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<projectile>
			<explosionDelay>600</explosionDelay>
			<damageDef>Smoke</damageDef>
			<soundExplode>InfernoCannon_Fire</soundExplode>
			<speed>12</speed>
			<arcHeightFactor>2</arcHeightFactor>
			<shadowSize>0.4</shadowSize>
		</projectile>
		<modExtensions>
			<li Class="BillDoorsFramework.RotationalProjExtension">
				<speed>8</speed>
			</li>
		</modExtensions>
	</ThingDef>

	<ThingDef ParentName="ApparelNoQualityBase" Name="BDMEtest_FlareBeltBase" Abstract="true">
		<graphicData>
			<onGroundRandomRotateAngle>0</onGroundRandomRotateAngle>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<techLevel>Spacer</techLevel>
		<tradeTags>
			<li>BDsFlares</li>
			<li>ExoticMisc</li>
			<li>WeaponRanged</li>
		</tradeTags>
		<thingSetMakerTags>
			<li>RewardStandardHighFreq</li>
		</thingSetMakerTags>
		<statBases>
			<Mass>0.5</Mass>
			<EquipDelay>2</EquipDelay>
			<MarketValue>550</MarketValue>
			<MaxHitPoints>80</MaxHitPoints>
		</statBases>
		<tickerType>Normal</tickerType>
		<thingCategories>
			<li>ApparelUtility</li>
		</thingCategories>
		<apparel>
			<countsAsClothingForNudity>false</countsAsClothingForNudity>
			<careIfWornByCorpse>false</careIfWornByCorpse>
			<careIfDamaged>false</careIfDamaged>
			<ignoredByNonViolent>true</ignoredByNonViolent>
			<wearPerDay>0</wearPerDay>
			<bodyPartGroups>
				<li>Waist</li>
			</bodyPartGroups>
			<layers>
				<li>Belt</li>
			</layers>
		</apparel>
		<resourceReadoutPriority>Middle</resourceReadoutPriority>
		<tradeNeverStack>true</tradeNeverStack>
		<smeltable>false</smeltable>
		<burnableByRecipe>false</burnableByRecipe>
		<drawGUIOverlay>false</drawGUIOverlay>
		<relicChance>0</relicChance>
		<comps>
			<li Class="CompProperties_Reloadable">
				<maxCharges>3</maxCharges>
				<destroyOnEmpty>true</destroyOnEmpty>
				<hotKey>Misc4</hotKey>
				<chargeNoun>flare</chargeNoun>
				<displayGizmoWhileUndrafted>false</displayGizmoWhileUndrafted>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="BDMEtest_FlareBeltBase">
		<defName>Belt_Flare_bombardment</defName>
		<label>encoded flare (bombardment)</label>
		<description>A hand-thrown signal emitter, both appears and functions like a flare, thus gaining its name. This one is encoded to summon a barrage of LGIS missiles.</description>
		<graphicData>
			<texPath>Things/Item/Grenade_3HSTbombardFlare/Grenade_3HSTbombardFlare_c</texPath>
		</graphicData>
		<verbs>
			<li>
				<label>throw bombardment flare</label>
				<verbClass>Verb_LaunchProjectileStatic</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<onlyManualCast>True</onlyManualCast>
				<range>12.9</range>
				<warmupTime>1.5</warmupTime>
				<noiseRadius>4</noiseRadius>
				<soundCast>ThrowGrenade</soundCast>
				<targetParams>
					<canTargetLocations>true</canTargetLocations>
				</targetParams>
				<defaultProjectile>BDMEtest_FlareProj_bombardment</defaultProjectile>
				<rangedFireRulepack>Combat_RangedFire_Thrown</rangedFireRulepack>
			</li>
		</verbs>
	</ThingDef>

	<ThingDef ParentName="BDMEtest_FlareProjBase">
		<defName>BDMEtest_FlareProj_bombardment</defName>
		<label>encoded flare (bombardment)</label>
		<graphicData>
			<texPath>Things/Item/Grenade_3HSTbombardFlare_proj</texPath>
		</graphicData>
		<comps>
			<li Class="BillDoorsFramework.CompProperties_IncidentFlare">
				<incidentDef>BDMEtest_Incident_LGISbombard</incidentDef>
			</li>
			<li Class="BillDoorsFramework.CompProperties_FlareEffecter">
				<effecterDef>BDMEtest_FlareBurningRed</effecterDef>
				<offset>(0,0.4)</offset>
			</li>
			<li Class="CompProperties_Glower">
				<compClass>BillDoorsFramework.CompFlareGlower</compClass>
				<glowRadius>8</glowRadius>
				<glowColor>(255,80,80)</glowColor>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="BDMEtest_FlareBeltBase">
		<defName>Belt_Flare_Evac</defName>
		<label>encoded flare (Evac)</label>
		<description>A hand-thrown signal emitter, both appears and functions like a flare, thus gaining its name. This one is encoded to call in a MedEvac shuttle.\n\n  The MedEvac shuttle will pick up the worst wounded or downed colonist or prisoner in close proximity of flare. \n  If none is near the flare, it will search in the current map for wounded pawns that is not in home area, to avoid accidentally pick up pawns in colony hospitals.\n  All wounds on the pawn will be tended at 100% quality, and he will be delivered to the inhabited player base with highest wealth.\n  It will try to land in landing beacon marked zones if possible, then near trade beacons, or near colony if everything else fails.</description>
		<graphicData>
			<texPath>Things/Item/Grenade_3HSTevacFlare/Grenade_3HSTevacFlare_c</texPath>
		</graphicData>
		<verbs>
			<li>
				<label>throw evac flare</label>
				<verbClass>Verb_LaunchProjectileStatic</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<onlyManualCast>True</onlyManualCast>
				<violent>false</violent>
				<range>12.9</range>
				<warmupTime>1.5</warmupTime>
				<noiseRadius>4</noiseRadius>
				<soundCast>ThrowGrenade</soundCast>
				<targetParams>
					<canTargetLocations>true</canTargetLocations>
				</targetParams>
				<defaultProjectile>BDMEtest_FlareProj_Evac</defaultProjectile>
				<rangedFireRulepack>Combat_RangedFire_Thrown</rangedFireRulepack>
			</li>
		</verbs>
	</ThingDef>

	<ThingDef ParentName="BDMEtest_FlareProjBase">
		<defName>BDMEtest_FlareProj_Evac</defName>
		<label>encoded flare (Evac)</label>
		<graphicData>
			<texPath>Things/Item/Grenade_3HSTevacFlare_proj</texPath>
		</graphicData>
		<comps>
			<li Class="BillDoorsFramework.CompProperties_IncidentFlare">
				<incidentDef>BDMEtest_MedEvac</incidentDef>
			</li>
			<li Class="BillDoorsFramework.CompProperties_FlareEffecter">
				<effecterDef>BDMEtest_FlareBurningGreen</effecterDef>
				<offset>(0,0.4)</offset>
			</li>
			<li Class="CompProperties_Glower">
				<compClass>BillDoorsFramework.CompFlareGlower</compClass>
				<glowRadius>8</glowRadius>
				<glowColor>(50,200,50)</glowColor>
			</li>
		</comps>
	</ThingDef>
</Defs>